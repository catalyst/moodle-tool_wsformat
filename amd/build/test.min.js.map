{"version":3,"file":"test.min.js","sources":["../src/test.js"],"sourcesContent":["import Ajax, { call as fetchMany } from 'core/ajax';\nimport * as Toast from 'core/toast';\n\nexport const init = () => {\n    setUpCopyFunctionality();\n};\n\n\nexport const testFetch = () => {\n    fetchMany([{\n\n    }])\n}\n\n//console.log(\"Helloooo this is Jackie\");\nconst webserviceListItems = document.querySelectorAll('li[data-name]');\nconst placeholderText = document.querySelector('#placeholder-text');\nconst wsDescriptionPanel = document.querySelector('#ws-panel');\n\nlet panelTitle = document.getElementById('ws-title');\nlet panelDesc = document.getElementById('ws-description');\nlet panelCurl = document.getElementById('ws-curl');\n\nconst curlCopyButton = document.querySelector('#curl-copy-button');\ncurlCopyButton.addEventListener('click', copyCurlContent)\n\nfunction copyCurlContent() {\n    let curlContent = document.getElementById('ws-curl').innerText;\n    // Source: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText#examples.\n    navigator.clipboard.writeText(curlContent)\n        .then(() => {\n            // From the official Moodle Component Library:https://componentlibrary.moodle.com/admin/tool/componentlibrary/docspage.php/moodle/javascript/toast/ \n            Toast.add('cURL successfully copied to clipboard', {\n                type: 'success'\n            })\n        })\n        .catch(() => {\n            Toast.add('cURL unable to be copied to clipboard', {\n                type: 'danger'\n            })\n        })\n}\n\nwebserviceListItems.forEach(function (webserviceItem) {\n\n    webserviceItem.addEventListener('click', (e) => {\n        e.preventDefault();\n        const name = webserviceItem.getAttribute(\"data-name\");\n        const description = webserviceItem.getAttribute(\"data-desc\");\n        const curl = webserviceItem.getAttribute(\"data-curl\");\n\n        if (placeholderText) {\n            placeholderText.remove();\n        }\n\n        wsDescriptionPanel.style.display = \"flex\";\n\n        panelTitle.innerHTML = name;\n        panelDesc.innerHTML = description;\n        panelCurl.innerHTML = curl;\n\n    });\n});\n\nconst selectElement = document.getElementById('export-type');\nconst exportButton = document.getElementById('export-button-id');\nconst initalHref = exportButton.href;\nexportButton.href = `${initalHref}&export-type=curl`;\n\nselectElement.addEventListener('change', (event) => {\n    const exportType = event.target.value;\n    exportButton.href = `${initalHref}&export-type=${exportType}`;\n    console.log(exportButton.href)\n});\n"],"names":["setUpCopyFunctionality","webserviceListItems","document","querySelectorAll","placeholderText","querySelector","wsDescriptionPanel","panelTitle","getElementById","panelDesc","panelCurl","addEventListener","curlContent","innerText","navigator","clipboard","writeText","then","Toast","add","type","catch","forEach","webserviceItem","e","preventDefault","name","getAttribute","description","curl","remove","style","display","innerHTML","selectElement","exportButton","initalHref","href","event","exportType","target","value","console","log"],"mappings":"gtCAGoB,KAChBA,6CAIqB,oBACX,CAAC,YAMTC,oBAAsBC,SAASC,iBAAiB,iBAChDC,gBAAkBF,SAASG,cAAc,qBACzCC,mBAAqBJ,SAASG,cAAc,iBAE9CE,WAAaL,SAASM,eAAe,YACrCC,UAAYP,SAASM,eAAe,kBACpCE,UAAYR,SAASM,eAAe,WAEjBN,SAASG,cAAc,qBAC/BM,iBAAiB,wBAGxBC,YAAcV,SAASM,eAAe,WAAWK,UAErDC,UAAUC,UAAUC,UAAUJ,aACzBK,MAAK,KAEFC,MAAMC,IAAI,wCAAyC,CAC/CC,KAAM,eAGbC,OAAM,KACHH,MAAMC,IAAI,wCAAyC,CAC/CC,KAAM,iBAKtBnB,oBAAoBqB,SAAQ,SAAUC,gBAElCA,eAAeZ,iBAAiB,SAAUa,IACtCA,EAAEC,uBACIC,KAAOH,eAAeI,aAAa,aACnCC,YAAcL,eAAeI,aAAa,aAC1CE,KAAON,eAAeI,aAAa,aAErCvB,iBACAA,gBAAgB0B,SAGpBxB,mBAAmByB,MAAMC,QAAU,OAEnCzB,WAAW0B,UAAYP,KACvBjB,UAAUwB,UAAYL,YACtBlB,UAAUuB,UAAYJ,iBAKxBK,cAAgBhC,SAASM,eAAe,eACxC2B,aAAejC,SAASM,eAAe,oBACvC4B,WAAaD,aAAaE,KAChCF,aAAaE,eAAUD,gCAEvBF,cAAcvB,iBAAiB,UAAW2B,cAChCC,WAAaD,MAAME,OAAOC,MAChCN,aAAaE,eAAUD,mCAA0BG,YACjDG,QAAQC,IAAIR,aAAaE"}